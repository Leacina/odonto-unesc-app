<h3 class="odonto-page-title">
  {{ !modelId ? 'Novo Usuário' : 'Edição Usuário' }}

  <a class="odonto-sm-button" color="accent" mat-button disableRipple="true" routerLink="/admin/users">
    <mat-icon>undo</mat-icon> Voltar
  </a>
</h3>

<div class="odonto-form-container" [formGroup]="formGroup">
  <div class="container-fluid">
    <div class="row">
      <div class="col col-md-6">
        <mat-form-field>
          <input
            matInput
            type="number"
            formControlName="code"
            required
          />
          <mat-label>Código Unesc</mat-label>
          <mat-error>Código é obrigatório</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col col-md-6">
        <mat-form-field>
          <input
            matInput
            type="text"
            formControlName="name"
            required
          />
          <mat-label>Nome</mat-label>
          <mat-error>Nome é obrigatório</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col col-md-6">
        <mat-form-field>
          <input
            matInput
            type="text"
            formControlName="email"
            email
            required
          />
          <mat-label>Email</mat-label>
          <mat-error>Informe um email válido</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col col-md-4">
        <mat-form-field>
          <input
            matInput
            type="password"
            formControlName="password"
            [required]="!modelId"
          />
          <mat-label>Senha</mat-label>
          <mat-hint *ngIf="modelId">Informe uma nova senha caso deseje alterá-la</mat-hint>
          <mat-error>Senha é obrigatório</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col col-md-4">
        <mat-form-field>
          <input
            matInput
            placeholder="Repita a senha informada acima"
            type="password"
            formControlName="repeat_password"
            pattern="{{ formGroup.get('password').value }}"
            [required]="!modelId"
          />
          <mat-label>Confirme a Senha</mat-label>
          <mat-error>Senha e confirmação de senha não são iguais</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col col-md-12">
        <mat-checkbox formControlName="manager">Este usuário pode gerenciar outros usuários</mat-checkbox>
      </div>
    </div>

    <div class="odonto-active-field">
      <mat-checkbox formControlName="active">Ativo</mat-checkbox>
    </div>

    <div class="odonto-form-actions">
      <button
        matButton
        type="button"
        mat-raised-button color="primary"
        (click)="onSave()">
        Salvar
      </button>
      <button
        matButton
        type="button"
        mat-raised-button color="primary"
        (click)="onSave(true)">
        Salvar e Fechar
      </button>
      <button
        matButton
        type="button"
        mat-raised-button color="basic"
        (click)="onCancel()">
        Cancelar
      </button>
    </div>
  </div>
</div>
